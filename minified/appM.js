window.onload=function(){function e(){var e=VH/1.5,t=VH/1.5,n=document.getElementById("pie"),i=n.getContext("2d");n.width=e,n.height=t;var l=0,o=[J,q,j,D],s=0,y=["dodgerblue","darkgreen","maroon","saddlebrown"];J=parseInt(J);for(var a=0;a<o.length;a++)s+=o[a];for(var r=0;r<o.length;r++)i.fillStyle=y[r],i.beginPath(),i.moveTo(n.width/2,n.height/2),i.arc(n.width/2,n.height/2,n.height/2,l,l+2*Math.PI*(o[r]/s),!1),i.lineTo(n.width/2,n.height/2),i.fill(),l+=2*Math.PI*(o[r]/s),i.closePath(),(J>0||q>0||j>0||D>0)&&(i.beginPath(),i.fillStyle="rgb(236, 236, 243)",i.arc(n.width/2,n.height/2,n.height/6,0,2*Math.PI),i.fill(),i.closePath(),i.lineTo(n.width/2,n.height/2));console.log(J),console.log(typeof J),console.log(J)}function t(){"serviceWorker"in navigator&&navigator.serviceWorker.register("serviceWorker.js").then(function(e){console.log("ServiceWorker registration successful: ",e)},function(e){console.log("ServiceWorker registration failed: ",e)})}var n,i,l,o,s=document.getElementById("menuBtn"),y=document.getElementById("menu"),a=document.getElementById("icon"),r=document.getElementById("menuBg"),d=document.getElementById("food"),c=document.getElementById("clothes"),g=document.getElementById("other"),I=document.getElementById("nextSelection"),p=document.getElementById("addMoney"),m=document.getElementById("enterAddMoney"),v=document.getElementById("saveAddedMoney"),M=document.getElementById("getStarted"),u=document.getElementById("getStartedBg"),h=document.getElementById("spentOnFood"),f=document.getElementById("spentOnClothes"),L=document.getElementById("spentOnOther"),H=document.getElementById("freeMoneyLeft"),T=document.getElementById("spentOnFood2"),b=document.getElementById("spentOnClothes2"),E=document.getElementById("spentOnOther2"),B=document.getElementById("freeMoneyLeft2"),S=document.getElementById("putMoneyAside"),x=document.getElementById("enterMoneyAside"),w=document.getElementById("saveMoneyAside"),k=document.getElementById("saved"),z=document.getElementById("eur"),O=document.getElementById("fiveEur"),W=document.getElementById("tenEur"),A=document.getElementById("fiftyEur"),N=document.getElementById("hundredEur"),P=document.getElementById("save"),V=document.getElementById("totalMoneySpent"),C=document.getElementById("totalMoneySpentCombined"),F=!1;if(t(),s.style.width=.08*window.innerHeight+"px",s.style.height=.08*window.innerHeight+"px",s.style.maxHeight="50px",s.style.minHeight="45px",s.style.maxWidth="50px",s.style.minWidth="45px",null!=localStorage.getItem("freeMoney")){var J=parseInt(localStorage.getItem("freeMoney"));B.innerHTML=parseInt(localStorage.getItem("freeMoney")),H.innerHTML=parseInt(localStorage.getItem("freeMoney")),M.style.opacity="0",M.style.zIndex="-100",u.style.opacity="0",u.style.zIndex="-100"}else{var J=0;B.innerHTML=0}if(null!=localStorage.getItem("clothesMoney")){var j=parseInt(localStorage.getItem("clothesMoney"));b.innerHTML=parseInt(localStorage.getItem("clothesMoney")),f.innerHTML=parseInt(localStorage.getItem("clothesMoney")),M.style.opacity="0",M.style.zIndex="-100",u.style.opacity="0",u.style.zIndex="-100"}else{var j=0;b.innerHTML=0}if(null!=localStorage.getItem("foodMoney")){var q=parseInt(localStorage.getItem("foodMoney"));T.innerHTML=parseInt(localStorage.getItem("foodMoney")),h.innerHTML=parseInt(localStorage.getItem("foodMoney")),M.style.opacity="0",M.style.zIndex="-100",u.style.opacity="0",u.style.zIndex="-100"}else{var q=0;T.innerHTML=0}if(null!=localStorage.getItem("otherMoney")){var D=parseInt(localStorage.getItem("otherMoney"));E.innerHTML=parseInt(localStorage.getItem("otherMoney")),L.innerHTML=parseInt(localStorage.getItem("otherMoney")),M.style.opacity="0",M.style.zIndex="-100",u.style.opacity="0",u.style.zIndex="-100"}else{var D=0;E.innerHTML=0}if(null!=localStorage.getItem("savedMoney")&&localStorage.getItem("savedMoney")>"0"){parseInt(localStorage.getItem("savedMoney"));k.innerHTML=parseInt(localStorage.getItem("savedMoney")),M.style.opacity="0",M.style.zIndex="-100",u.style.opacity="0",u.style.zIndex="-100"}else{var k=0;k.innerHTML=0}var G=new Audio("addmoneysoundshort.mp3"),K=new Audio("moneyspentsound.mp3");window.innerWidth<window.innerHeight?VH=window.innerWidth:VH=window.innerHeight,e(),s.addEventListener("click",function(){F?(y.style.left="-300px",a.style.opacity="0",r.style.opacity="0",setTimeout(function(){r.style.zIndex="-1"},500),F=!1,setTimeout(function(){a.style.opacity="1"},200)):(y.style.left="0px",a.style.opacity="0",r.style.opacity="1",r.style.zIndex="98",F=!0,setTimeout(function(){a.style.opacity="1"},200))}),r.addEventListener("click",function(){y.style.left="-300px",a.style.opacity="0",r.style.opacity="0",setTimeout(function(){r.style.zIndex="-1"},500),F=!1,setTimeout(function(){a.style.opacity="1"},200)}),d.addEventListener("click",function(){d.style.visibility="hidden",c.style.visibility="hidden",g.style.visibility="hidden",I.style.visibility="visible",I.style.opacity="1",n="food"}),c.addEventListener("click",function(){c.style.visibility="hidden",d.style.visibility="hidden",g.style.visibility="hidden",I.style.visibility="visible",I.style.opacity="1",n="clothes"}),g.addEventListener("click",function(){g.style.visibility="hidden",c.style.visibility="hidden",c.style.zIndex="-1",d.style.visibility="hidden",d.style.zIndex="-1",I.style.visibility="visible",I.style.opacity="1",n="other"}),p.addEventListener("click",function(){m.style.visibility="visible",v.style.visibility="visible",m.style.opacity="1",v.style.opacity="1"}),v.addEventListener("click",function(){m.value>0&&(G.play(),M.style.opacity="0",M.style.zIndex="-100",u.style.opacity="0",u.style.zIndex="-100",m.style.visibility="hidden",v.style.visibility="hidden",m.style.opacity="0",v.style.opacity="0",J+=parseInt(m.value),H.innerHTML=J,B.innerHTML=J,localStorage.setItem("freeMoney",J),y.style.left="-300px",a.style.opacity="0",r.style.opacity="0",r.style.zIndex="-1",F=!1,setTimeout(function(){a.className="fa fa-bars fa-3x",a.style.opacity="1"},200),m.value="",U.width=U.width,e())}),S.addEventListener("click",function(){x.style.visibility="visible",w.style.visibility="visible",x.style.opacity="1",w.style.opacity="1"}),w.addEventListener("click",function(){x.value>0&&(G.play(),x.style.visibility="hidden",w.style.visibility="hidden",x.style.opacity="0",w.style.opacity="0",J-=parseInt(x.value),i=x.value,l=k.innerHTML,o=x.value,k.innerHTML=i+l,H.innerHTML=J,B.innerHTML=J,console.log("savedmoney: "+JSON.stringify(i+l)),localStorage.setItem("freeMoney",J),localStorage.setItem("savedMoney",JSON.stringify(i+l)),y.style.left="-300px",a.style.opacity="0",r.style.opacity="0",r.style.zIndex="-1",F=!1,setTimeout(function(){a.className="fa fa-bars fa-3x",a.style.opacity="1"},200),x.value="",U.width=U.width,e())}),z.addEventListener("click",function(){C.style.visibility="visible",C.style.opacity="1",V.innerHTML=parseInt(V.innerHTML)+parseInt(1),V.innerHTML=parseInt(V.innerHTML),console.log(typeof V.innerHTML)}),O.addEventListener("click",function(){C.style.visibility="visible",C.style.opacity="1",console.log(typeof V.innerHTML),V.innerHTML=parseInt(V.innerHTML)+parseInt(5),V.innerHTML=parseInt(V.innerHTML)}),W.addEventListener("click",function(){C.style.visibility="visible",C.style.opacity="1",console.log(typeof V.innerHTML),V.innerHTML=parseInt(V.innerHTML)+parseInt(10),V.innerHTML=parseInt(V.innerHTML)}),A.addEventListener("click",function(){C.style.visibility="visible",C.style.opacity="1",console.log(typeof V.innerHTML),V.innerHTML=parseInt(V.innerHTML)+parseInt(50),V.innerHTML=parseInt(V.innerHTML)}),N.addEventListener("click",function(){C.style.visibility="visible",C.style.opacity="1",console.log(typeof V.innerHTML),V.innerHTML=parseInt(V.innerHTML)+parseInt(100),V.innerHTML=parseInt(V.innerHTML)}),P.addEventListener("click",function(){C.style.visibility="hidden",C.style.opacity="0","food"==n&&(K.play(),q=parseInt(q)+parseInt(V.innerHTML),J-=parseInt(V.innerHTML),localStorage.setItem("foodMoney",q),localStorage.setItem("freeMoney",J),H.innerHTML=J,B.innerHTML=J,h.innerHTML=q,T.innerHTML=q,d.className="categoryBtn",d.style.visibility="visible",c.style.visibility="visible",g.style.visibility="visible",n="",I.style.visibility="hidden",I.style.opacity="0",console.log("vabaraha: "+J),console.log("toidule: "+q),V.innerHTML=parseInt(0),e()),"clothes"==n&&(K.play(),j=parseInt(j)+parseInt(V.innerHTML),J-=parseInt(V.innerHTML),localStorage.setItem("clothesMoney",j),localStorage.setItem("freeMoney",J),H.innerHTML=J,B.innerHTML=J,f.innerHTML=j,b.innerHTML=j,c.className="categoryBtn",d.style.visibility="visible",g.style.visibility="visible",c.style.visibility="visible",I.style.visibility="hidden",I.style.opacity="0",n="",console.log("vabaraha: "+J),console.log("toidule: "+j),V.innerHTML=parseInt(0),e()),"other"==n&&(K.play(),D=parseInt(D)+parseInt(V.innerHTML),J-=parseInt(V.innerHTML),localStorage.setItem("otherMoney",D),localStorage.setItem("freeMoney",J),H.innerHTML=J,B.innerHTML=J,L.innerHTML=D,E.innerHTML=D,g.className="categoryBtn",g.style.width="32%",c.style.visibility="visible",d.style.visibility="visible",g.style.visibility="visible",I.style.visibility="hidden",I.style.opacity="0",n="",console.log("vabaraha: "+J),console.log("toidule: "+D),V.innerHTML=parseInt(0),e())});var Q=VH/1.5,R=VH/1.5,U=document.getElementById("pie");U.getContext("2d");U.width=Q,U.height=R;e()};